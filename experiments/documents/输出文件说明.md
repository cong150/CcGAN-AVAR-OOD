# ğŸ“ è®­ç»ƒè¾“å‡ºæ–‡ä»¶è¯´æ˜

## ğŸ¯ **ç›®å½•ç»“æ„æ¦‚è§ˆ**

```
output/RC-49_64/<å®éªŒå>/
â”œâ”€â”€ results/
â”‚   â”œâ”€â”€ ckpt_niter_10000.pth         # Checkpointï¼ˆæ¯10000æ¬¡ï¼‰
â”‚   â”œâ”€â”€ ckpt_niter_20000.pth
â”‚   â”œâ”€â”€ ckpt_niter_30000.pth
â”‚   â”œâ”€â”€ imgs_in_train/               # âœ… è®­ç»ƒè¿‡ç¨‹æ ·æœ¬ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”‚   â”œâ”€â”€ 5000.png                 # æ¯5000æ¬¡ä¿å­˜
â”‚   â”‚   â”œâ”€â”€ 10000.png
â”‚   â”‚   â”œâ”€â”€ 15000.png
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ fake_data/                   # âš ï¸ è¯„ä¼°æ—¶ç”Ÿæˆï¼ˆè®­ç»ƒæ—¶ä¸ºç©ºï¼‰
â”‚   â”‚   â”œâ”€â”€ h5/                      # éœ€è¦--dump_fake_for_h5
â”‚   â”‚   â””â”€â”€ png/                     # éœ€è¦--dump_fake_for_niqe
â”‚   â””â”€â”€ log_loss_niters30000.txt     # Lossæ—¥å¿—

experiments/
â”œâ”€â”€ output_step1_aux_regression.txt   # æ­¥éª¤1è®­ç»ƒæ—¥å¿—
â”œâ”€â”€ output_step3_baseline.txt         # æ­¥éª¤3è®­ç»ƒæ—¥å¿—
â”œâ”€â”€ output_step4_ours.txt             # æ­¥éª¤4è®­ç»ƒæ—¥å¿—
â””â”€â”€ output_step5_oracle.txt           # æ­¥éª¤5è®­ç»ƒæ—¥å¿—
```

---

## ğŸ“‚ **é‡è¦æ–‡ä»¶è¯¦è§£**

### **1. imgs_in_train/ ï¼ˆè®­ç»ƒè¿‡ç¨‹æ ·æœ¬ï¼‰**

**ç”Ÿæˆæ—¶æœº**ï¼šè®­ç»ƒè¿‡ç¨‹ä¸­è‡ªåŠ¨ç”Ÿæˆ  
**ä¿å­˜é¢‘ç‡**ï¼šæ¯5000æ¬¡è¿­ä»£  
**ç”¨é€”**ï¼šå¿«é€ŸæŸ¥çœ‹è®­ç»ƒè¿›åº¦å’Œè´¨é‡

```bash
# æŸ¥çœ‹è®­ç»ƒè¿‡ç¨‹æ ·æœ¬
ls output/RC-49_64/baseline_id_only/imgs_in_train/
# è¾“å‡ºï¼š5000.png  10000.png  15000.png  20000.png  25000.png  30000.png

# æ‰“å¼€æŸ¥çœ‹
eog output/RC-49_64/baseline_id_only/imgs_in_train/30000.png
```

**ç‰¹ç‚¹**ï¼š
- âœ… è®­ç»ƒæ—¶å°±æœ‰
- âœ… åŒ…å«å¤šä¸ªè§’åº¦çš„æ ·æœ¬ç½‘æ ¼
- âœ… æ–‡ä»¶æ•°é‡å°‘ï¼ˆçº¦6-10ä¸ªï¼‰
- âœ… æ–¹ä¾¿ç›‘æ§è®­ç»ƒè¿›åº¦

---

### **2. fake_data/ ï¼ˆè¯„ä¼°æ•°æ®ï¼‰**

**ç”Ÿæˆæ—¶æœº**ï¼šè®­ç»ƒå®Œæˆåè¿è¡Œè¯„ä¼°  
**ä¿å­˜é¢‘ç‡**ï¼šä¸€æ¬¡æ€§ç”Ÿæˆ  
**ç”¨é€”**ï¼šç”¨äºè®¡ç®—è¯„ä¼°æŒ‡æ ‡ï¼ˆFIDã€ISç­‰ï¼‰

```bash
# è®­ç»ƒæ—¶ï¼š
ls output/RC-49_64/baseline_id_only/fake_data/
# è¾“å‡ºï¼šï¼ˆç©ºç›®å½•ï¼‰

# è¿è¡Œè¯„ä¼°åï¼š
ls output/RC-49_64/baseline_id_only/fake_data/
# è¾“å‡ºï¼šh5/  png/
```

**ä¸ºä»€ä¹ˆè®­ç»ƒæ—¶æ˜¯ç©ºçš„ï¼Ÿ**

```python
# main.py ç¬¬292-314è¡Œ
# è¿™äº›ä»£ç åœ¨è®­ç»ƒå®Œæˆåæ‰æ‰§è¡Œ

if args.dump_fake_for_h5:
    evaluator.dump_h5_files(output_path=fake_data + '/h5')
    
if args.dump_fake_for_niqe:
    evaluator.dump_png_images(output_path=fake_data + '/png')
```

**å¦‚ä½•ç”Ÿæˆfake_dataï¼Ÿ**

éœ€è¦åœ¨è®­ç»ƒè„šæœ¬ä¸­æ·»åŠ è¯„ä¼°å‚æ•°ï¼ˆç›®å‰çš„è„šæœ¬æ²¡åŠ ï¼‰ï¼š

```bash
python main.py \
    ... å…¶ä»–å‚æ•° ... \
    --do_eval \                    # å¯ç”¨è¯„ä¼°
    --dump_fake_for_h5 \          # ä¿å­˜ä¸ºh5æ ¼å¼
    --dump_fake_for_niqe \        # ä¿å­˜ä¸ºpngæ ¼å¼
    --samp_batch_size 200 \
    --eval_batch_size 200
```

**ç‰¹ç‚¹**ï¼š
- âš ï¸ è®­ç»ƒæ—¶ä¸ç”Ÿæˆ
- âš ï¸ éœ€è¦æ‰‹åŠ¨å¯ç”¨è¯„ä¼°
- âœ… åŒ…å«å®Œæ•´çš„è¯„ä¼°æ ·æœ¬é›†
- âœ… ç”¨äºè®¡ç®—å®šé‡æŒ‡æ ‡

---

### **3. ckpt_niter_*.pth ï¼ˆæ¨¡å‹æ£€æŸ¥ç‚¹ï¼‰**

**ç”Ÿæˆé¢‘ç‡**ï¼šæ¯10000æ¬¡è¿­ä»£  
**ç”¨é€”**ï¼š
- ä¿å­˜è®­ç»ƒè¿›åº¦
- æ¢å¤ä¸­æ–­çš„è®­ç»ƒ
- ç”¨äºåç»­æ¨ç†

```bash
# æŸ¥çœ‹checkpoint
ls output/RC-49_64/baseline_id_only/results/ckpt_niter_*.pth
# è¾“å‡ºï¼š
# ckpt_niter_10000.pth
# ckpt_niter_20000.pth
# ckpt_niter_30000.pth

# æ¢å¤è®­ç»ƒ
RESUME_ITER=20000  # ä»20000æ¬¡ç»§ç»­
```

---

### **4. log_loss_niters*.txt ï¼ˆè®­ç»ƒæ—¥å¿—ï¼‰**

**å†…å®¹**ï¼šæ¯æ¬¡è¿­ä»£çš„losså€¼

```bash
# æŸ¥çœ‹æœ€åå‡ è¡Œ
tail -20 output/RC-49_64/baseline_id_only/log_loss_niters30000.txt

# è¾“å‡ºç¤ºä¾‹ï¼š
# [Iter 29900/30000] [D loss: 0.726/0.220/-1.432] [G loss: 0.994/0.126/0.021]
# [Iter 29950/30000] [D loss: 0.715/0.218/-1.429] [G loss: 0.988/0.124/0.019]
# [Iter 30000/30000] [D loss: 0.721/0.219/-1.430] [G loss: 0.991/0.125/0.020]
```

---

### **5. experiments/output_step*.txt ï¼ˆå®Œæ•´è®­ç»ƒæ—¥å¿—ï¼‰**

**å†…å®¹**ï¼šè®­ç»ƒçš„æ‰€æœ‰è¾“å‡ºï¼ˆå‚æ•°ã€è¿›åº¦ã€é”™è¯¯ç­‰ï¼‰

```bash
# æŸ¥çœ‹è®­ç»ƒæ—¥å¿—
cat experiments/output_step3_baseline.txt

# å®æ—¶ç›‘æ§
tail -f experiments/output_step3_baseline.txt

# æŸ¥çœ‹é”™è¯¯
grep -i "error" experiments/output_step3_baseline.txt
```

---

## ğŸ” **å¸¸è§é—®é¢˜**

### **Q1: ä¸ºä»€ä¹ˆfake_dataæ˜¯ç©ºçš„ï¼Ÿ**
**A**: è®­ç»ƒæ—¶ä¸ç”Ÿæˆï¼Œéœ€è¦è¿è¡Œè¯„ä¼°æˆ–æ·»åŠ è¯„ä¼°å‚æ•°ã€‚

### **Q2: imgs_in_trainå¤Ÿç”¨å—ï¼Ÿ**
**A**: 
- **çœ‹è®­ç»ƒè¿›åº¦**ï¼šâœ… å¤Ÿç”¨
- **è®¡ç®—æŒ‡æ ‡**ï¼šâŒ ä¸å¤Ÿï¼Œéœ€è¦fake_data

### **Q3: å¦‚ä½•åªçœ‹ç”Ÿæˆæ•ˆæœï¼Ÿ**
**A**: æŸ¥çœ‹`imgs_in_train/`å°±å¤Ÿäº†ï¼Œå¿«é€Ÿæ–¹ä¾¿ã€‚

### **Q4: å¦‚ä½•è®¡ç®—FIDç­‰æŒ‡æ ‡ï¼Ÿ**
**A**: éœ€è¦è¿è¡Œå®Œæ•´è¯„ä¼°ï¼Œç”Ÿæˆ`fake_data/`ã€‚

---

## ğŸ’¡ **å®ç”¨æŠ€å·§**

### **1. å¿«é€ŸæŸ¥çœ‹è®­ç»ƒæ•ˆæœ**

```bash
# æ‰“å¼€æœ€æ–°çš„è®­ç»ƒæ ·æœ¬
eog output/RC-49_64/baseline_id_only/imgs_in_train/30000.png
```

### **2. å¯¹æ¯”ä¸‰ä¸ªå®éªŒ**

```bash
# åŒæ—¶æ‰“å¼€ä¸‰ä¸ªå®éªŒçš„æœ€æ–°æ ·æœ¬
eog output/RC-49_64/baseline_id_only/imgs_in_train/30000.png \
    output/RC-49_64/simple_mix_50/imgs_in_train/30000.png \
    output/RC-49_64/oracle_full/imgs_in_train/30000.png
```

### **3. ç›‘æ§è®­ç»ƒè¿›åº¦**

```bash
# å®æ—¶æŸ¥çœ‹loss
tail -f output/RC-49_64/baseline_id_only/log_loss_niters30000.txt

# æˆ–è€…æŸ¥çœ‹å®Œæ•´æ—¥å¿—
tail -f experiments/output_step3_baseline.txt
```

### **4. æ£€æŸ¥è®­ç»ƒæ˜¯å¦å®Œæˆ**

```bash
# æ–¹æ³•1ï¼šæ£€æŸ¥æœ€åçš„checkpoint
ls -lh output/RC-49_64/baseline_id_only/results/ckpt_niter_30000.pth

# æ–¹æ³•2ï¼šæ£€æŸ¥æ—¥å¿—æœ€åä¸€è¡Œ
tail -1 experiments/output_step3_baseline.txt
# åº”è¯¥çœ‹åˆ°ï¼š[Iter 30000/30000] ...

# æ–¹æ³•3ï¼šæ£€æŸ¥æœ€åçš„å›¾ç‰‡
ls -lh output/RC-49_64/baseline_id_only/imgs_in_train/30000.png
```

---

## ğŸ“Š **æ€»ç»“å¯¹æ¯”**

| æ–‡ä»¶/ç›®å½• | è®­ç»ƒæ—¶ç”Ÿæˆ | è¯„ä¼°æ—¶ç”Ÿæˆ | ä¸»è¦ç”¨é€” | æ–‡ä»¶å¤§å° |
|----------|----------|----------|---------|---------|
| `imgs_in_train/` | âœ… | - | æŸ¥çœ‹è®­ç»ƒè¿›åº¦ | ~å‡ MB |
| `fake_data/` | âŒ | âœ… | è®¡ç®—è¯„ä¼°æŒ‡æ ‡ | ~å‡ GB |
| `ckpt_niter_*.pth` | âœ… | - | ä¿å­˜æ¨¡å‹/æ¢å¤è®­ç»ƒ | ~å‡ ç™¾MB |
| `log_loss_niters*.txt` | âœ… | - | è®°å½•loss | ~å‡ KB |
| `experiments/output_*.txt` | âœ… | âœ… | å®Œæ•´æ—¥å¿— | ~å‡ MB |

---

**å»ºè®®**ï¼š
- âœ… è®­ç»ƒæ—¶åªçœ‹`imgs_in_train/`å³å¯
- âœ… éœ€è¦å®šé‡è¯„ä¼°æ—¶å†ç”Ÿæˆ`fake_data/`
- âœ… å®šæœŸæŸ¥çœ‹`log_loss_niters*.txt`ç¡®è®¤lossæ”¶æ•›

ç°åœ¨ä½ çŸ¥é“ä¸ºä»€ä¹ˆåªæœ‰`imgs_in_train`æœ‰æ•°æ®äº†ï¼ğŸ‰

